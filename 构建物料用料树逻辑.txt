LoadBomDataAsync（构建物料用料树） 现有思路解析

1. 参数校验与根物料推断
- 若 uses 为空，直接抛出异常。
- 通过集合运算「父节点集合 C 子节点集合」推断根物料编码 itemNo。

2. 物料信息查询
- 汇总所有涉及的物料编码，查询类型、BOM 编号。
- 构建 typeMap 与 bomNo。

3. 清除待重建分支
- 依据路径前缀 itemNo|use.UseItemNo，删除与新增一级子件相关的旧 BOM 记录，避免遗留数据，不影响其他子树。

4. 递归加载子件结构
- 定义 LoadChildBomAsync，从已有 BOM 数据递归查找下级物料。
- 先用路径检查避免循环引用。
- 查询 current 自身作为根的子件，累积数量、路径、类型等信息，再递归向下查找。

5. 处理一级用料
- 遍历传入的 uses，为每个子件添加一级记录，并从其自身 BOM 结构向下加载。
- 初始路径形如 itemNo|UseItemNo。

6. 保证根节点存在
- 检查是否已存在 ItemNo == UseItemNo 的自引用记录。
- 若不存在则插入，确保根物料在 BOM 表中有自循环节点。

7. 去重与入库
- 以 (ParentCode, UseItemNo) 为键，合并重复记录并汇总用量。
- 最终将整理后的列表批量插入数据库。
